<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Administrador de Libros</title>
    <style>
        body {
            font-family: Arial;
            background-color: #3A001E;
            color: white;
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            background-color: #5A002F;
            padding: 20px;
            margin: 0;
        }

        table {
            width: 90%;
            margin: 20px auto;
            border-collapse: collapse;
            background-color: white;
            color: black;
            border-radius: 10px;
            overflow: hidden;
        }

        th, td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
            text-align: center;
        }

        th {
            background-color: #5A002F;
            color: white;
        }

        .muchos {
            background-color: #90EE90; /* Verde */
        }

        .normal {
            background-color: #FFF9A8; /* Amarillo */
        }

        .pocos {
            background-color: #FF8A8A; /* Rojo */
        }

        .btn {
            display: block;
            background-color: #5A002F;
            padding: 12px;
            width: 200px;
            margin: 20px auto;
            text-align: center;
            border-radius: 10px;
            color: white;
            text-decoration: none;
            cursor: pointer;
        }

        .btn:hover {
            background-color: #7A0040;
        }

        .formulario {
            width: 90%;
            margin: 20px auto;
            background-color: #ffffffcc;
            padding: 15px;
            border-radius: 10px;
            color: black;
        }

        .formulario input {
            width: 100%;
            padding: 8px;
            margin: 6px 0;
        }

        .btn-agregar {
            background-color: #008000;
            color: white;
            padding: 10px;
            width: 150px;
            border-radius: 8px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>Administrador de Libros</h1>

<a class="btn" href="Administrador.html">Regresar al menú</a>

<div class="formulario">
    <h3>Agregar nuevo libro</h3>
    <input id="nombre" placeholder="Nombre del libro">
    <input id="autor" placeholder="Autor">
    <input id="categoria" placeholder="Categoría">
   
    <input id="editorial" placeholder="Editorial">
    <input id="existencias" placeholder="Existencias" type="number">

    <button class="btn-agregar" onclick="agregarLibro()">Agregar</button>
</div>

<table id="tablaLibros">
    <tr>
        <th>Nombre</th>
        <th>Autor</th>
        <th>Categoría</th>
        
        <th>Editorial</th>
        <th>Existencias</th>
    </tr>
</table>

<script>
    // Libros iniciales almacenados
    let libros = JSON.parse(localStorage.getItem("libros")) || [
    
    ];

    function mostrarLibros() {
        const tabla = document.getElementById("tablaLibros");

        // Limpiar excepto encabezado
        tabla.innerHTML = `
            <tr>
                <th>Nombre</th>
                <th>Autor</th>
                <th>Categoría</th>
                
                <th>Editorial</th>
                <th>Existencias</th>
            </tr>
        `;

        libros.forEach(libro => {
            let clase = "";

            if (libro.existencias >= 15) clase = "muchos";
            else if (libro.existencias >= 6) clase = "normal";
            else clase = "pocos";

            tabla.innerHTML += `
                <tr class="${clase}">
                    <td>${libro.nombre}</td>
                    <td>${libro.autor}</td>
                    <td>${libro.categoria}</td>
                                        <td>${libro.editorial}</td>
                    <td>${libro.existencias}</td>
                </tr>
            `;
        });
    }

    function agregarLibro() {
        const libro = {
            nombre: document.getElementById("nombre").value,
            autor: document.getElementById("autor").value,
            categoria: document.getElementById("categoria").value,
                        editorial: document.getElementById("editorial").value,
            existencias: parseInt(document.getElementById("existencias").value)
        };

        libros.push(libro);
        localStorage.setItem("libros", JSON.stringify(libros));
        mostrarLibros();
        alert("Libro agregado correctamente");
    }

    mostrarLibros();
</script>

</body>
</html>
